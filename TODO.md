# PDF Tools - TODO / 問題点リスト

## 🐛 既知の問題（バグ）

### 用紙サイズ選択時のスケーリング問題
- **症状**: A3横長などを選択してPDFを出力しても、ページが小さいまま余白が多い
- **期待動作**: ページがセルにフィットするようにスケーリングされるべき
- **調査ポイント**:
  - `createNupPdfBytes`関数の`scale`計算（約1380行付近）
  - `drawPage`の`width`/`height`パラメータ
  - プレビューでは正しく動作するが、実際のPDF出力で問題発生

### 翻訳キーの欠如
- **症状**: 英語モードで一部のUIテキストが翻訳されない
- **修正箇所**: `index.html`の用紙サイズラジオボタン（A3, A4, B4, B5）に`data-i18n`属性を追加

---

## 📋 将来の機能追加（TODO）

### OCR機能
- スキャンPDFをテキスト検索可能なPDFに変換
- **選択肢**:
  1. Tesseract.js（ブラウザ内処理、無料、品質中）
  2. macOS Vision API（ネイティブアプリ、無料、高品質）
- **備考**: 高品質を求めるならネイティブアプリ化を検討

---

### PDF分割ツール
- 特定のページを抽出したり、1ページずつ分割する機能（よくある要望）。

### ページ削除・並べ替え
- 取り込んだPDFのページ一覧をサムネイル表示し、ドラッグで並べ替えたり削除したりする機能。

### セキュリティ (ロック/解除)
- パスワード保護をかけたり、パスワードを知っているPDFの保護を解除して保存する機能。

---

## ✅ 完了済み

- [x] **Image to PDF 変換ツール** (2025/01/24)
- [x] HEIC → PNG変換ツール追加
- [x] 出力用紙サイズUI改善（ラジオボタン化）
- [x] Favicon追加
- [x] PDF結合ツール
- [x] 多言語対応（日本語/英語）

---

## 📝 メモ / 指示書き
<!-- ここに自由に手書きでメモや指示を追加してください -->
- [ ] 入れたPDFにプレフィックスを付ける機能
- 
- 

---

## 💡 今後の機能追加などのアイデア (20選)

### 基本操作系
1. **PDF分割 (Split)**: 指定ページでファイルを分割、または1ページずつバラバラにする。
2. **ページ削除 (Delete Pages)**: 不要なページを選んで削除する。
3. **ページ並べ替え (Reorder)**: サムネイルを見ながらドラッグ＆ドロップで順番変更。
4. **ページ回転 (Rotate Pages)**: 特定のページだけ90度/180度回転させて保存。
5. **PDF修復 (Repair)**: 開けない/壊れたPDFを再保存して修復を試みる。

### コンテンツ編集系
6. **ページ番号追加 (Add Page Numbers)**: ヘッダーやフッターにページ番号を追記。
7. **透かし追加 (Watermark)**: 「社外秘」などのテキストや画像を薄く重ねる。
8. **署名追加 (Sign)**: 手書き署名や印影画像をPDFに貼り付ける。
9. **グレースケール変換**: カラーPDFを白黒に変換してサイズ削減。
10. **メタデータ編集**: タイトル、作成者、キーワードなどのプロパティ情報を変更。

### セキュリティ系
11. **パスワード保護 (Lock)**: 開封時や印刷時のパスワードを設定・暗号化。
12. **パスワード解除 (Unlock)**: パスワードを知っているPDFの保護を永久に解除。

### 変換・抽出系
13. **PDF to Image**: PDFの各ページをJPG/PNG画像として書き出し。
14. **画像抽出 (Extract Images)**: PDF内に埋め込まれている画像だけを最高画質で抜き出す。
15. **テキスト抽出**: PDF内のテキストデータを抽出してtxtファイルなどに保存。
16. **HTML to PDF**: URLやHTMLコードからPDFを作成（印刷プレビュー的機能）。

### 応用・その他
17. **PDF比較 (Compare)**: 2つのPDFを並べて（または重ねて）差分を確認。
18. **PDF圧縮 (Compress)**: 画像の画質を落としてファイルサイズを小さくする。
19. **トリミング (Crop)**: ページの余白部分などを切り取る。
20. **簡易ビューア**: シンプルで動作の軽いPDF閲覧専用モード。